<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="custom/custom.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="custom/custom.js"></script>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a id="project-page" href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">oadt.lang_oadt.obliviousness</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">oadt.lang_oadt</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#"><span class="id" title="library">syntax</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#"><span class="id" title="library">semantics</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#"><span class="id" title="library">typing</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#"><span class="id" title="library">indistinguishable</span></a> <a class="idref" href="oadt.lang_oadt.infrastructure.html#"><span class="id" title="library">infrastructure</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.equivalence.html#"><span class="id" title="library">equivalence</span></a> <a class="idref" href="oadt.lang_oadt.admissible.html#"><span class="id" title="library">admissible</span></a> <a class="idref" href="oadt.lang_oadt.inversion.html#"><span class="id" title="library">inversion</span></a> <a class="idref" href="oadt.lang_oadt.values.html#"><span class="id" title="library">values</span></a> <a class="idref" href="oadt.lang_oadt.preservation.html#"><span class="id" title="library">preservation</span></a> <a class="idref" href="oadt.lang_oadt.progress.html#"><span class="id" title="library">progress</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">syntax.notations</span> <span class="id" title="var">semantics.notations</span> <span class="id" title="var">typing.notations</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">equivalence.notations</span> <span class="id" title="var">indistinguishable.notations</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">x</span> <span class="id" title="var">X</span> <span class="id" title="var">y</span> <span class="id" title="var">Y</span> : <a class="idref" href="oadt.ln.html#atom_instance.atom"><span class="id" title="definition">atom</span></a>) (<span class="id" title="var">L</span> : <a class="idref" href="oadt.ln.html#atom_instance.aset"><span class="id" title="definition">aset</span></a>).<br/>

<br/>
#[<span class="id" title="var">local</span>]<br/>
<a class="idref" href="oadt.lang_oadt.syntax.html#EFVar"><span class="id" title="constructor">Coercion</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#EFVar"><span class="id" title="constructor">EFVar</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#EFVar"><span class="id" title="constructor">:</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#EFVar"><span class="id" title="constructor">atom</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#EFVar"><span class="id" title="constructor">&gt;-&gt;</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#EFVar"><span class="id" title="constructor">expr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab98"></a><h1 class="section">Properties of indistinguishability</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">indistinguishable_inv</span> := <span class="id" title="var">safe_inv2</span> <span class="id" title="var">indistinguishable</span>.<br/>

<br/>
</div>

<div class="doc">
Indistinguishability is an equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a id="indistinguishable_is_equiv" class="idref" href="#indistinguishable_is_equiv"><span class="id" title="instance">indistinguishable_is_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ??; <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">e3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">e3</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_subst" class="idref" href="#indistinguishable_subst"><span class="id" title="lemma">indistinguishable_subst</span></a> <a id="e:1" class="idref" href="#e:1"><span class="id" title="binder">e</span></a> <a id="e':2" class="idref" href="#e':2"><span class="id" title="binder">e'</span></a> <a id="s:3" class="idref" href="#s:3"><span class="id" title="binder">s</span></a> <a id="s':4" class="idref" href="#s':4"><span class="id" title="binder">s'</span></a> <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e:1"><span class="id" title="variable">e</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e':2"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#s:3"><span class="id" title="variable">s</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#s':4"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#0dc1cbe9ab5d9c776265491b10b0998b"><span class="id" title="notation">{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#x:5"><span class="id" title="variable">x</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#0dc1cbe9ab5d9c776265491b10b0998b"><span class="id" title="notation">↦</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#s:3"><span class="id" title="variable">s</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#0dc1cbe9ab5d9c776265491b10b0998b"><span class="id" title="notation">}</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#e:1"><span class="id" title="variable">e</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#0dc1cbe9ab5d9c776265491b10b0998b"><span class="id" title="notation">{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#x:5"><span class="id" title="variable">x</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#0dc1cbe9ab5d9c776265491b10b0998b"><span class="id" title="notation">↦</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#s':4"><span class="id" title="variable">s'</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#0dc1cbe9ab5d9c776265491b10b0998b"><span class="id" title="notation">}</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#e':2"><span class="id" title="variable">e'</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_open" class="idref" href="#indistinguishable_open"><span class="id" title="lemma">indistinguishable_open</span></a> <a id="e:6" class="idref" href="#e:6"><span class="id" title="binder">e</span></a> <a id="e':7" class="idref" href="#e':7"><span class="id" title="binder">e'</span></a> <a id="s:8" class="idref" href="#s:8"><span class="id" title="binder">s</span></a> <a id="s':9" class="idref" href="#s':9"><span class="id" title="binder">s'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e:6"><span class="id" title="variable">e</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e':7"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#s:8"><span class="id" title="variable">s</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#s':9"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e:6"><span class="id" title="variable">e</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#1b928f46a0b846a8944e9dd5e3ebf683"><span class="id" title="notation">^</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#s:8"><span class="id" title="variable">s</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e':7"><span class="id" title="variable">e'</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#1b928f46a0b846a8944e9dd5e3ebf683"><span class="id" title="notation">^</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#s':9"><span class="id" title="variable">s'</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="oadt.lang_oadt.syntax.html#open"><span class="id" title="definition">open</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_ovalty" class="idref" href="#indistinguishable_ovalty"><span class="id" title="lemma">indistinguishable_ovalty</span></a> <a id="v:10" class="idref" href="#v:10"><span class="id" title="binder">v</span></a> <a id="v':11" class="idref" href="#v':11"><span class="id" title="binder">v'</span></a> <a id="71343bcbf5305793dbb87c723b1f2bc4" class="idref" href="#71343bcbf5305793dbb87c723b1f2bc4"><span class="id" title="binder">ω</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#ovalty"><span class="id" title="inductive">ovalty</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:10"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#71343bcbf5305793dbb87c723b1f2bc4"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#ovalty"><span class="id" title="inductive">ovalty</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':11"><span class="id" title="variable">v'</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#71343bcbf5305793dbb87c723b1f2bc4"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:10"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':11"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_ovalty_inv" class="idref" href="#indistinguishable_ovalty_inv"><span class="id" title="lemma">indistinguishable_ovalty_inv</span></a> <a id="v:13" class="idref" href="#v:13"><span class="id" title="binder">v</span></a> <a id="v':14" class="idref" href="#v':14"><span class="id" title="binder">v'</span></a> <a id="ba3ff4210dbd4f9a32b01eab604071ba" class="idref" href="#ba3ff4210dbd4f9a32b01eab604071ba"><span class="id" title="binder">ω</span></a> <a id="d6b5c7396e8dc3ac59f7ed4a4bd568ea" class="idref" href="#d6b5c7396e8dc3ac59f7ed4a4bd568ea"><span class="id" title="binder">ω'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:13"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':14"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#ovalty"><span class="id" title="inductive">ovalty</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:13"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#ba3ff4210dbd4f9a32b01eab604071ba"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#ovalty"><span class="id" title="inductive">ovalty</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':14"><span class="id" title="variable">v'</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#d6b5c7396e8dc3ac59f7ed4a4bd568ea"><span class="id" title="variable">ω'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#ba3ff4210dbd4f9a32b01eab604071ba"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#d6b5c7396e8dc3ac59f7ed4a4bd568ea"><span class="id" title="variable">ω'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> ω ω'.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> ??; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qauto</span> <span class="id" title="var">l</span>: <span class="id" title="var">on</span> <span class="id" title="var">inv</span>: <span class="id" title="var">ovalty</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_otval" class="idref" href="#indistinguishable_otval"><span class="id" title="lemma">indistinguishable_otval</span></a> <a id="ea2eb4fb80ca4a5d5fdf83a928d31eda" class="idref" href="#ea2eb4fb80ca4a5d5fdf83a928d31eda"><span class="id" title="binder">ω</span></a> <a id="33a0b10dbf1ea10c6ffa6ec4076a69a1" class="idref" href="#33a0b10dbf1ea10c6ffa6ec4076a69a1"><span class="id" title="binder">ω'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#ea2eb4fb80ca4a5d5fdf83a928d31eda"><span class="id" title="variable">ω</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#33a0b10dbf1ea10c6ffa6ec4076a69a1"><span class="id" title="variable">ω'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#ea2eb4fb80ca4a5d5fdf83a928d31eda"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#33a0b10dbf1ea10c6ffa6ec4076a69a1"><span class="id" title="variable">ω'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qauto</span> <span class="id" title="var">l</span>: <span class="id" title="var">on</span> <span class="id" title="var">inv</span>: <span class="id" title="var">otval</span> <span class="id" title="var">ctrs</span>: <span class="id" title="var">otval</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_otval_inv" class="idref" href="#indistinguishable_otval_inv"><span class="id" title="lemma">indistinguishable_otval_inv</span></a> <a id="2c0b413d9e343e16187e142de13d9d76" class="idref" href="#2c0b413d9e343e16187e142de13d9d76"><span class="id" title="binder">ω</span></a> <a id="e7c2ac893544ac04a2fbc57b32ef896b" class="idref" href="#e7c2ac893544ac04a2fbc57b32ef896b"><span class="id" title="binder">ω'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#2c0b413d9e343e16187e142de13d9d76"><span class="id" title="variable">ω</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e7c2ac893544ac04a2fbc57b32ef896b"><span class="id" title="variable">ω'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#2c0b413d9e343e16187e142de13d9d76"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e7c2ac893544ac04a2fbc57b32ef896b"><span class="id" title="variable">ω'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#2c0b413d9e343e16187e142de13d9d76"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e7c2ac893544ac04a2fbc57b32ef896b"><span class="id" title="variable">ω'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qauto</span> <span class="id" title="var">l</span>: <span class="id" title="var">on</span> <span class="id" title="var">inv</span>: <span class="id" title="var">otval</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_wval_" class="idref" href="#indistinguishable_wval_"><span class="id" title="lemma">indistinguishable_wval_</span></a> <a id="v:21" class="idref" href="#v:21"><span class="id" title="binder">v</span></a> <a id="v':22" class="idref" href="#v':22"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:21"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':22"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:21"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#lc"><span class="id" title="inductive">lc</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':22"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':22"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="var">hauto</span> <span class="id" title="var">l</span>: <span class="id" title="var">on</span> <span class="id" title="var">ctrs</span>: <span class="id" title="var">wval</span> <span class="id" title="var">inv</span>: <span class="id" title="var">wval</span>, <span class="id" title="var">lc</span>, <span class="id" title="var">indistinguishable</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_wval" class="idref" href="#indistinguishable_wval"><span class="id" title="lemma">indistinguishable_wval</span></a> <a id="v:23" class="idref" href="#v:23"><span class="id" title="binder">v</span></a> <a id="v':24" class="idref" href="#v':24"><span class="id" title="binder">v'</span></a> <a id="7fd4a516bfc23c1706437f236b640793" class="idref" href="#7fd4a516bfc23c1706437f236b640793"><span class="id" title="binder">Σ</span></a> <a id="1e846e5538fdc853a2cbe279f179228e" class="idref" href="#1e846e5538fdc853a2cbe279f179228e"><span class="id" title="binder">Γ</span></a> <a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a> <a id="48272ea247738ff4cbf9cd09d6e67bc3" class="idref" href="#48272ea247738ff4cbf9cd09d6e67bc3"><span class="id" title="binder">τ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:23"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':24"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:23"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#7fd4a516bfc23c1706437f236b640793"><span class="id" title="variable">Σ</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2db76f6480ff5f60bcd1c50507c2ffdb"><span class="id" title="notation">;</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#1e846e5538fdc853a2cbe279f179228e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2db76f6480ff5f60bcd1c50507c2ffdb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':24"><span class="id" title="variable">v'</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2db76f6480ff5f60bcd1c50507c2ffdb"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l:27"><span class="id" title="variable">l</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2db76f6480ff5f60bcd1c50507c2ffdb"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#48272ea247738ff4cbf9cd09d6e67bc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':24"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">qauto</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_wval_"><span class="id" title="lemma">indistinguishable_wval_</span></a>, <a class="idref" href="oadt.lang_oadt.infrastructure.html#typing_lc"><span class="id" title="lemma">typing_lc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_wval_is_nf" class="idref" href="#indistinguishable_wval_is_nf"><span class="id" title="lemma">indistinguishable_wval_is_nf</span></a> <a id="b45015ea779d7a6908b541de791ac941" class="idref" href="#b45015ea779d7a6908b541de791ac941"><span class="id" title="binder">Σ</span></a> <a id="v:30" class="idref" href="#v:30"><span class="id" title="binder">v</span></a> <a id="v':31" class="idref" href="#v':31"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':31"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#nf"><span class="id" title="definition">nf</span></a> (@<a class="idref" href="oadt.lang_oadt.semantics.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':31"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> ?? [];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">indistinguishable_inv</span> || <span class="id" title="var">step_inv</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>; <span class="id" title="var">sfirstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_otval_is_nf" class="idref" href="#indistinguishable_otval_is_nf"><span class="id" title="lemma">indistinguishable_otval_is_nf</span></a> <a id="1beca3efe5883c5b6c82a78600a11ca9" class="idref" href="#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="binder">Σ</span></a> <a id="597d2b8f35d03759c3ef530177f3fe32" class="idref" href="#597d2b8f35d03759c3ef530177f3fe32"><span class="id" title="binder">ω</span></a> <a id="cbc89e97a56d81974bc1c09823d54ccf" class="idref" href="#cbc89e97a56d81974bc1c09823d54ccf"><span class="id" title="binder">ω'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#597d2b8f35d03759c3ef530177f3fe32"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#597d2b8f35d03759c3ef530177f3fe32"><span class="id" title="variable">ω</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#cbc89e97a56d81974bc1c09823d54ccf"><span class="id" title="variable">ω'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#nf"><span class="id" title="definition">nf</span></a> (@<a class="idref" href="oadt.lang_oadt.semantics.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="oadt.lang_oadt.obliviousness.html#cbc89e97a56d81974bc1c09823d54ccf"><span class="id" title="variable">ω'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> ω'.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> ?? [];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">select</span> (<span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="var">sinvert</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">select</span> (<span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.semantics.html#b923e2787de76f0e5ca63673be2d015d"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.semantics.html#b923e2787de76f0e5ca63673be2d015d"><span class="id" title="notation">--&gt;!</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="var">sinvert</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">ectx_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">sfirstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fix_gctx" class="idref" href="#fix_gctx"><span class="id" title="section">fix_gctx</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="9ea391fdfca2d92fa2d39490b0221e9c" class="idref" href="#9ea391fdfca2d92fa2d39490b0221e9c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="oadt.lang_oadt.syntax.html#gctx"><span class="id" title="class">gctx</span></a>).<br/>

<br/>
#[<span class="id" title="var">local</span>]<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_wval_step" class="idref" href="#indistinguishable_wval_step"><span class="id" title="lemma">indistinguishable_wval_step</span></a> <a id="v:36" class="idref" href="#v:36"><span class="id" title="binder">v</span></a> <a id="v':37" class="idref" href="#v':37"><span class="id" title="binder">v'</span></a> <a id="e:38" class="idref" href="#e:38"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:36"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:36"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e:38"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sfirstorder</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_wval_is_nf"><span class="id" title="lemma">indistinguishable_wval_is_nf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_otval_step" class="idref" href="#indistinguishable_otval_step"><span class="id" title="lemma">indistinguishable_otval_step</span></a> <a id="8c1754e95a2ff5342072de209e9d54bd" class="idref" href="#8c1754e95a2ff5342072de209e9d54bd"><span class="id" title="binder">ω</span></a> <a id="b698d192405c9c250dfd4593bc3d80c4" class="idref" href="#b698d192405c9c250dfd4593bc3d80c4"><span class="id" title="binder">ω'</span></a> <a id="e:41" class="idref" href="#e:41"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#8c1754e95a2ff5342072de209e9d54bd"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#8c1754e95a2ff5342072de209e9d54bd"><span class="id" title="variable">ω</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#b698d192405c9c250dfd4593bc3d80c4"><span class="id" title="variable">ω'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#b698d192405c9c250dfd4593bc3d80c4"><span class="id" title="variable">ω'</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e:41"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sfirstorder</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_otval_is_nf"><span class="id" title="lemma">indistinguishable_otval_is_nf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The next few lemmas can be proved independently, but they can simply reduce
to the indistinguishable counterparts. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="wval_is_nf" class="idref" href="#wval_is_nf"><span class="id" title="lemma">wval_is_nf</span></a> <a id="v:42" class="idref" href="#v:42"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:42"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#nf"><span class="id" title="definition">nf</span></a> (<a class="idref" href="oadt.lang_oadt.semantics.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#fdb50c6d1a0896d31bbd0e5c9028ba49"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:42"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">qauto</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_wval_is_nf"><span class="id" title="lemma">indistinguishable_wval_is_nf</span></a> <span class="id" title="tactic">solve</span>: <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="otval_is_nf" class="idref" href="#otval_is_nf"><span class="id" title="lemma">otval_is_nf</span></a> <a id="2874f7ff0af543347d2c262287eb289c" class="idref" href="#2874f7ff0af543347d2c262287eb289c"><span class="id" title="binder">ω</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#2874f7ff0af543347d2c262287eb289c"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#nf"><span class="id" title="definition">nf</span></a> (<a class="idref" href="oadt.lang_oadt.semantics.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#fdb50c6d1a0896d31bbd0e5c9028ba49"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="oadt.lang_oadt.obliviousness.html#2874f7ff0af543347d2c262287eb289c"><span class="id" title="variable">ω</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">qauto</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_otval_is_nf"><span class="id" title="lemma">indistinguishable_otval_is_nf</span></a> <span class="id" title="tactic">solve</span>: <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wval_step" class="idref" href="#wval_step"><span class="id" title="lemma">wval_step</span></a> <a id="v:44" class="idref" href="#v:44"><span class="id" title="binder">v</span></a> <a id="e:45" class="idref" href="#e:45"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:44"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e:45"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:44"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sfirstorder</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#wval_is_nf"><span class="id" title="lemma">wval_is_nf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="otval_step" class="idref" href="#otval_step"><span class="id" title="lemma">otval_step</span></a> <a id="ce832ecd83fb3a84f11ae31888f3ca96" class="idref" href="#ce832ecd83fb3a84f11ae31888f3ca96"><span class="id" title="binder">ω</span></a> <a id="e:47" class="idref" href="#e:47"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#ce832ecd83fb3a84f11ae31888f3ca96"><span class="id" title="variable">ω</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e:47"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#ce832ecd83fb3a84f11ae31888f3ca96"><span class="id" title="variable">ω</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sfirstorder</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#otval_is_nf"><span class="id" title="lemma">otval_is_nf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_canonical_form_</span> <span class="id" title="var">H</span> τ :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> τ <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#d3ebdb2dba8b1be0eebea39121749a17"><span class="id" title="notation">𝟙</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a> =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.progress.html#canonical_form_unit"><span class="id" title="lemma">canonical_form_unit</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#5f4008dfa662ea5c5dfc0ab2b5d50d81"><span class="id" title="notation">~𝔹</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a> =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.progress.html#canonical_form_obool"><span class="id" title="lemma">canonical_form_obool</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.syntax.html#d314baafad1cbaf3b45f9bfd95f57969"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a> =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.progress.html#canonical_form_prod"><span class="id" title="lemma">canonical_form_prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.syntax.html#b36fc6b347010b3c55fdf2ce621df671"><span class="id" title="notation">~+</span></a> <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a> =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.progress.html#canonical_form_osum"><span class="id" title="lemma">canonical_form_osum</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;tactic&nbsp;is&nbsp;destructive.&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_canonical_form</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="oadt.lang_oadt.syntax.html#val"><span class="id" title="inductive">val</span></a> ?<span class="id" title="var">e</span>, <span class="id" title="var">H'</span> : <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.typing.html#c4358cf9e0b8f2c772d509810394d831"><span class="id" title="notation">⊢</span></a> ?<span class="id" title="var">e</span> <a class="idref" href="oadt.lang_oadt.typing.html#c4358cf9e0b8f2c772d509810394d831"><span class="id" title="notation">:</span></a> ?τ |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_canonical_form_</span> <span class="id" title="var">H</span> τ; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">simp_hyp</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="Hwf:48" class="idref" href="#Hwf:48"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="oadt.lang_oadt.typing.html#gctx_wf"><span class="id" title="definition">gctx_wf</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#fdb50c6d1a0896d31bbd0e5c9028ba49"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
#[<span class="id" title="var">local</span>]<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Hwf".<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_obliv_val"><span class="id" title="lemma">indistinguishable_obliv_val</span></a></span> and <span class="inlinecode"><a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_val_type"><span class="id" title="lemma">indistinguishable_val_type</span></a></span> are two of
the most important lemmas. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_obliv_val" class="idref" href="#indistinguishable_obliv_val"><span class="id" title="lemma">indistinguishable_obliv_val</span></a> <a id="2a7d14d57d603d434fd52f55a4120a0a" class="idref" href="#2a7d14d57d603d434fd52f55a4120a0a"><span class="id" title="binder">Γ</span></a> <a id="v:50" class="idref" href="#v:50"><span class="id" title="binder">v</span></a> <a id="v':51" class="idref" href="#v':51"><span class="id" title="binder">v'</span></a> <a id="l:52" class="idref" href="#l:52"><span class="id" title="binder">l</span></a> <a id="l':53" class="idref" href="#l':53"><span class="id" title="binder">l'</span></a> <a id="86ebfd31a48cdc16fd55c1cf32e5a739" class="idref" href="#86ebfd31a48cdc16fd55c1cf32e5a739"><span class="id" title="binder">τ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#2a7d14d57d603d434fd52f55a4120a0a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:50"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l:52"><span class="id" title="variable">l</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#86ebfd31a48cdc16fd55c1cf32e5a739"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#2a7d14d57d603d434fd52f55a4120a0a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':51"><span class="id" title="variable">v'</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l':53"><span class="id" title="variable">l'</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#86ebfd31a48cdc16fd55c1cf32e5a739"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:50"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':51"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#2a7d14d57d603d434fd52f55a4120a0a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#86ebfd31a48cdc16fd55c1cf32e5a739"><span class="id" title="variable">τ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">::</span></a> <a class="idref" href="oadt.lang_oadt.kind.html#727e36dbf3287715f812f67c6e1677f5"><span class="id" title="notation">*@</span></a><a class="idref" href="oadt.lang_oadt.kind.html#727e36dbf3287715f812f67c6e1677f5"><span class="id" title="notation">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:50"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':51"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">v'</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">val_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">apply_regularity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">apply_canonical_form</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">type_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">kind_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">simpl_whnf_equiv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="var">easy</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">auto_eapply</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">equiv_naive_solver</span> ].<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Boxed&nbsp;injection&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">select</span> (<a class="idref" href="oadt.lang_oadt.semantics.html#ovalty"><span class="id" title="inductive">ovalty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="var">sinvert</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_canonical_form</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">type_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">kind_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">select</span> (<span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.equivalence.html#2c3fd99e8d7012272a30f3140a1e8e60"><span class="id" title="notation">≡</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.values.html#otval_uniq"><span class="id" title="lemma">otval_uniq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Equivalence&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">auto_eapply</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">equiv_naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.progress.html#pared_equiv_obliv_preservation"><span class="id" title="lemma">pared_equiv_obliv_preservation</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">equiv_naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_val_obliv_type_equiv" class="idref" href="#indistinguishable_val_obliv_type_equiv"><span class="id" title="lemma">indistinguishable_val_obliv_type_equiv</span></a> <a id="069a6ed60f1a903e9f642e1eacf76b8d" class="idref" href="#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="binder">Γ</span></a> <a id="v:56" class="idref" href="#v:56"><span class="id" title="binder">v</span></a> <a id="v':57" class="idref" href="#v':57"><span class="id" title="binder">v'</span></a> <a id="l:58" class="idref" href="#l:58"><span class="id" title="binder">l</span></a> <a id="l':59" class="idref" href="#l':59"><span class="id" title="binder">l'</span></a> <a id="c939c5839ee7f9e325315f5ab904c26f" class="idref" href="#c939c5839ee7f9e325315f5ab904c26f"><span class="id" title="binder">τ</span></a> <a id="972294874eef0d6125173383e537638e" class="idref" href="#972294874eef0d6125173383e537638e"><span class="id" title="binder">τ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:56"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l:58"><span class="id" title="variable">l</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#c939c5839ee7f9e325315f5ab904c26f"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':57"><span class="id" title="variable">v'</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l':59"><span class="id" title="variable">l'</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#972294874eef0d6125173383e537638e"><span class="id" title="variable">τ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#c939c5839ee7f9e325315f5ab904c26f"><span class="id" title="variable">τ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">::</span></a> <a class="idref" href="oadt.lang_oadt.kind.html#727e36dbf3287715f812f67c6e1677f5"><span class="id" title="notation">*@</span></a><a class="idref" href="oadt.lang_oadt.kind.html#727e36dbf3287715f812f67c6e1677f5"><span class="id" title="notation">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:56"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:56"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':57"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#c939c5839ee7f9e325315f5ab904c26f"><span class="id" title="variable">τ</span></a> <a class="idref" href="oadt.lang_oadt.equivalence.html#2c3fd99e8d7012272a30f3140a1e8e60"><span class="id" title="notation">≡</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#972294874eef0d6125173383e537638e"><span class="id" title="variable">τ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">v'</span> <span class="id" title="var">l'</span> τ'.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">indistinguishable_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">val_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">apply_regularity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">type_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">kind_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Product&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">select</span> (<span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.equivalence.html#2c3fd99e8d7012272a30f3140a1e8e60"><span class="id" title="notation">≡</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.syntax.html#d314baafad1cbaf3b45f9bfd95f57969"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_pared_equiv_congr</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.infrastructure.html#kinding_lc"><span class="id" title="lemma">kinding_lc</span></a>, <a class="idref" href="oadt.lang_oadt.infrastructure.html#typing_type_lc"><span class="id" title="lemma">typing_type_lc</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_eapply</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.typing.html#kinding"><span class="id" title="inductive">kinding</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Equivalence&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">auto_eapply</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">equiv_naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.progress.html#pared_equiv_obliv_preservation"><span class="id" title="lemma">pared_equiv_obliv_preservation</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">equiv_naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;lemma&nbsp;can&nbsp;be&nbsp;strengthened&nbsp;so&nbsp;that&nbsp;we&nbsp;drop&nbsp;the&nbsp;typing&nbsp;assumption&nbsp;for<br/>
<span class="inlinecode"><span class="id" title="var">v'</span></span>.&nbsp;In&nbsp;order&nbsp;for&nbsp;that,&nbsp;we&nbsp;have&nbsp;to&nbsp;prove&nbsp;<span class="inlinecode"><span class="id" title="var">v'</span></span>&nbsp;can&nbsp;be&nbsp;typed&nbsp;which&nbsp;should&nbsp;be<br/>
provable.&nbsp;But&nbsp;this&nbsp;version&nbsp;is&nbsp;good&nbsp;enough&nbsp;for&nbsp;the&nbsp;main&nbsp;theorem.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_val_type" class="idref" href="#indistinguishable_val_type"><span class="id" title="lemma">indistinguishable_val_type</span></a> <a id="ad797e72248915d9212fa4589483d7f6" class="idref" href="#ad797e72248915d9212fa4589483d7f6"><span class="id" title="binder">Γ</span></a> <a id="v:63" class="idref" href="#v:63"><span class="id" title="binder">v</span></a> <a id="v':64" class="idref" href="#v':64"><span class="id" title="binder">v'</span></a> <a id="l:65" class="idref" href="#l:65"><span class="id" title="binder">l</span></a> <a id="l':66" class="idref" href="#l':66"><span class="id" title="binder">l'</span></a> <a id="14efd6c8ea6e1ce9063e9a40955f2d84" class="idref" href="#14efd6c8ea6e1ce9063e9a40955f2d84"><span class="id" title="binder">τ</span></a> <a id="1f8c95927b78eb81eace0ac698e53412" class="idref" href="#1f8c95927b78eb81eace0ac698e53412"><span class="id" title="binder">τ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#ad797e72248915d9212fa4589483d7f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l:65"><span class="id" title="variable">l</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#14efd6c8ea6e1ce9063e9a40955f2d84"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#ad797e72248915d9212fa4589483d7f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':64"><span class="id" title="variable">v'</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l':66"><span class="id" title="variable">l'</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#1f8c95927b78eb81eace0ac698e53412"><span class="id" title="variable">τ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#ad797e72248915d9212fa4589483d7f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#14efd6c8ea6e1ce9063e9a40955f2d84"><span class="id" title="variable">τ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">::</span></a> <a class="idref" href="oadt.lang_oadt.kind.html#727e36dbf3287715f812f67c6e1677f5"><span class="id" title="notation">*@</span></a><a class="idref" href="oadt.lang_oadt.kind.html#727e36dbf3287715f812f67c6e1677f5"><span class="id" title="notation">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.syntax.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':64"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#ad797e72248915d9212fa4589483d7f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#v':64"><span class="id" title="variable">v'</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l':66"><span class="id" title="variable">l'</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#14efd6c8ea6e1ce9063e9a40955f2d84"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.typing.html#TConv"><span class="id" title="constructor">TConv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_val_obliv_type_equiv"><span class="id" title="lemma">indistinguishable_val_obliv_type_equiv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">val_step_absurd</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.obliviousness.html#otval_step"><span class="id" title="lemma">otval_step</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_otval"><span class="id" title="lemma">indistinguishable_otval</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">solve</span> [ <span class="id" title="var">eassumption</span> | <span class="id" title="tactic">symmetry</span>; <span class="id" title="var">eassumption</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.syntax.html#otval"><span class="id" title="inductive">otval</span></a> ] ] ]<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.obliviousness.html#wval_step"><span class="id" title="lemma">wval_step</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_wval"><span class="id" title="lemma">indistinguishable_wval</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">solve</span> [ <span class="id" title="var">eassumption</span> | <span class="id" title="tactic">symmetry</span>; <span class="id" title="var">eassumption</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eauto</span> ] ] ]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab99"></a><h1 class="section">Obliviousness theorem</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_step" class="idref" href="#indistinguishable_step"><span class="id" title="lemma">indistinguishable_step</span></a> <a id="e1:69" class="idref" href="#e1:69"><span class="id" title="binder">e1</span></a> <a id="e1':70" class="idref" href="#e1':70"><span class="id" title="binder">e1'</span></a> <a id="e2:71" class="idref" href="#e2:71"><span class="id" title="binder">e2</span></a> <a id="l1:72" class="idref" href="#l1:72"><span class="id" title="binder">l1</span></a> <a id="l2:73" class="idref" href="#l2:73"><span class="id" title="binder">l2</span></a> <a id="b676a0dbc3c940e6e60516a39a547f55" class="idref" href="#b676a0dbc3c940e6e60516a39a547f55"><span class="id" title="binder">τ1</span></a> <a id="a0d504bfc709c60c9e7a4fb2f46eb020" class="idref" href="#a0d504bfc709c60c9e7a4fb2f46eb020"><span class="id" title="binder">τ2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:69"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e1':70"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:69"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:71"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:69"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l1:72"><span class="id" title="variable">l1</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#b676a0dbc3c940e6e60516a39a547f55"><span class="id" title="variable">τ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:71"><span class="id" title="variable">e2</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l2:73"><span class="id" title="variable">l2</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#a0d504bfc709c60c9e7a4fb2f46eb020"><span class="id" title="variable">τ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="e2':76" class="idref" href="#e2':76"><span class="id" title="binder">e2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:71"><span class="id" title="variable">e2</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2':76"><span class="id" title="variable">e2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">qauto</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.progress.html#progress_weak"><span class="id" title="lemma">progress_weak</span></a> <span class="id" title="tactic">solve</span>: <span class="id" title="var">val_step_absurd</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="indistinguishable_deterministic" class="idref" href="#indistinguishable_deterministic"><span class="id" title="lemma">indistinguishable_deterministic</span></a> <a id="e1:77" class="idref" href="#e1:77"><span class="id" title="binder">e1</span></a> <a id="e1':78" class="idref" href="#e1':78"><span class="id" title="binder">e1'</span></a> <a id="e2:79" class="idref" href="#e2:79"><span class="id" title="binder">e2</span></a> <a id="e2':80" class="idref" href="#e2':80"><span class="id" title="binder">e2'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:77"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e1':78"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:79"><span class="id" title="variable">e2</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2':80"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:77"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:79"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="7964d96fa7244df5bd09e10fc2c7276a" class="idref" href="#7964d96fa7244df5bd09e10fc2c7276a"><span class="id" title="binder">τ1</span></a> <a id="fbaa4990121692ea4ac8a08b54af6490" class="idref" href="#fbaa4990121692ea4ac8a08b54af6490"><span class="id" title="binder">τ2</span></a> <a id="l1:83" class="idref" href="#l1:83"><span class="id" title="binder">l1</span></a> <a id="l2:84" class="idref" href="#l2:84"><span class="id" title="binder">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:77"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l1:83"><span class="id" title="variable">l1</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#7964d96fa7244df5bd09e10fc2c7276a"><span class="id" title="variable">τ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:79"><span class="id" title="variable">e2</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l2:84"><span class="id" title="variable">l2</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#fbaa4990121692ea4ac8a08b54af6490"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="e67178a273730d10f833f040c074daf1" class="idref" href="#e67178a273730d10f833f040c074daf1"><span class="id" title="binder">κ1</span></a> <a id="0e7e1d6a6c292e4b904694397609be74" class="idref" href="#0e7e1d6a6c292e4b904694397609be74"><span class="id" title="binder">κ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:77"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">::</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e67178a273730d10f833f040c074daf1"><span class="id" title="variable">κ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:79"><span class="id" title="variable">e2</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#325f1230b5ec5a7855e824561676cd73"><span class="id" title="notation">::</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#0e7e1d6a6c292e4b904694397609be74"><span class="id" title="variable">κ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e1':78"><span class="id" title="variable">e1'</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2':80"><span class="id" title="variable">e2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">e2</span> <span class="id" title="var">e2'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">ectx_inv</span>; <span class="id" title="var">simplify_eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">indistinguishable_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">select</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ [?[?[?[?[??]]]]] | [?[?[??]]] ]));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">type_inv</span>; <span class="id" title="var">kind_inv</span>; <span class="id" title="var">simplify_eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">step_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">select</span> (<a class="idref" href="oadt.lang_oadt.syntax.html#oval"><span class="id" title="inductive">oval</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="oadt.lang_oadt.values.html#oval_val"><span class="id" title="lemma">oval_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="oadt.lang_oadt.values.html#val_wval"><span class="id" title="lemma">val_wval</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">select</span>! (<a class="idref" href="oadt.lang_oadt.semantics.html#woval"><span class="id" title="inductive">woval</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="oadt.lang_oadt.values.html#woval_wval"><span class="id" title="lemma">woval_wval</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Discharge&nbsp;the&nbsp;impossible&nbsp;cases&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">val_step_absurd</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Solve&nbsp;the&nbsp;trivial&nbsp;cases&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>, <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_open"><span class="id" title="lemma">indistinguishable_open</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Solve&nbsp;the&nbsp;inductive&nbsp;cases.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">auto_eapply</span>; <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.typing.html#kinding"><span class="id" title="inductive">kinding</span></a> ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Solve&nbsp;other&nbsp;less&nbsp;trivial&nbsp;cases&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">qauto</span> <span class="id" title="var">rew</span>: <span class="id" title="var">off</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_open"><span class="id" title="lemma">indistinguishable_open</span></a> <span class="id" title="tactic">solve</span>: <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Step&nbsp;from&nbsp;oblivious&nbsp;injection&nbsp;to&nbsp;boxed&nbsp;injection&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">[</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">inj@_</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">&lt;</span></a> ?ω1 <a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">]</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">[</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">inj@_</span></a><a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">&lt;</span></a> ?ω2 <a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="oadt.lang_oadt.syntax.html#5860b585bf477c64d30227ef3bb6e9d1"><span class="id" title="notation">]</span></a> <a class="idref" href="oadt.lang_oadt.syntax.html#402c68ecf71e81a927fd902d1877dbf0"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> ω2 <span class="id" title="keyword">with</span> ω1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>, <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_otval_inv"><span class="id" title="lemma">indistinguishable_otval_inv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Step&nbsp;from&nbsp;oblivious&nbsp;case&nbsp;to&nbsp;mux&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">ovalty_inv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#indistinguishable"><span class="id" title="inductive">indistinguishable</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_splitting</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_open"><span class="id" title="lemma">indistinguishable_open</span></a>, <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_ovalty"><span class="id" title="lemma">indistinguishable_ovalty</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Step&nbsp;from&nbsp;mux&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">case_splitting</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">select</span>! (<a class="idref" href="oadt.lang_oadt.semantics.html#wval"><span class="id" title="inductive">wval</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="oadt.lang_oadt.values.html#wval_val"><span class="id" title="lemma">wval_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [ | <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eauto</span>] ]); <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_obliv_val"><span class="id" title="lemma">indistinguishable_obliv_val</span></a>, <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_val_type"><span class="id" title="lemma">indistinguishable_val_type</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The one-step obliviousness theorem, which is essentially a noninterference
theorem. Two indistinguishable well-typed expressions always step to
indistinguishable new expressions, or they both can not take any more step. It
is important that if one of them takes step, another one also takes step.
Otherwise the adversaries can distinguish them by this mismatched behavior. 
</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <a id="obliviousness_step" class="idref" href="#obliviousness_step"><span class="id" title="lemma">obliviousness_step</span></a> <a id="e1:87" class="idref" href="#e1:87"><span class="id" title="binder">e1</span></a> <a id="e1':88" class="idref" href="#e1':88"><span class="id" title="binder">e1'</span></a> <a id="e2:89" class="idref" href="#e2:89"><span class="id" title="binder">e2</span></a> <a id="l1:90" class="idref" href="#l1:90"><span class="id" title="binder">l1</span></a> <a id="l2:91" class="idref" href="#l2:91"><span class="id" title="binder">l2</span></a> <a id="ace7f7925d954074cb57f2b4400a6305" class="idref" href="#ace7f7925d954074cb57f2b4400a6305"><span class="id" title="binder">τ1</span></a> <a id="7b456b74d436cee60e7d0d0c9d27cbca" class="idref" href="#7b456b74d436cee60e7d0d0c9d27cbca"><span class="id" title="binder">τ2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:87"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e1':88"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:87"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:89"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e1:87"><span class="id" title="variable">e1</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l1:90"><span class="id" title="variable">l1</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#ace7f7925d954074cb57f2b4400a6305"><span class="id" title="variable">τ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">⊢</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:89"><span class="id" title="variable">e2</span></a> <a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">:{</span></a><a class="idref" href="oadt.lang_oadt.obliviousness.html#l2:91"><span class="id" title="variable">l2</span></a><a class="idref" href="oadt.lang_oadt.typing.html#2372401f7c8af58686f78ca8c0894835"><span class="id" title="notation">}</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#7b456b74d436cee60e7d0d0c9d27cbca"><span class="id" title="variable">τ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="e2':94" class="idref" href="#e2':94"><span class="id" title="binder">e2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:89"><span class="id" title="variable">e2</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2':94"><span class="id" title="variable">e2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="e2':95" class="idref" href="#e2':95"><span class="id" title="binder">e2'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2:89"><span class="id" title="variable">e2</span></a> <a class="idref" href="oadt.lang_oadt.semantics.html#b0d633f35da965a294b26690a5b7356c"><span class="id" title="notation">--&gt;!</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2':95"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e1':88"><span class="id" title="variable">e1'</span></a> <a class="idref" href="oadt.lang_oadt.indistinguishable.html#f5a4ef2532a9ef22fada34c7bab4a51a"><span class="id" title="notation">≈</span></a> <a class="idref" href="oadt.lang_oadt.obliviousness.html#e2':95"><span class="id" title="variable">e2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hauto</span> <span class="id" title="var">use</span>: <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_step"><span class="id" title="lemma">indistinguishable_step</span></a>, <a class="idref" href="oadt.lang_oadt.obliviousness.html#indistinguishable_deterministic"><span class="id" title="lemma">indistinguishable_deterministic</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="oadt.lang_oadt.obliviousness.html#fix_gctx"><span class="id" title="section">fix_gctx</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
